{% extends 'base.html' %}
{% block title %}Top {{ mode_str }} PP Plays{% endblock %}

{% block description %}Top {{ mode_str }} PP plays on Inlayo{% endblock %}

{% block og_title %}Top {{ mode_str }} PP Plays | Inlayo{% endblock %}
{% block og_description %}View the highest PP scores for {{ mode_str }} mode on Inlayo{% endblock %}
{% block og_image %}https://osu.{{ domain() }}/static/favicon/android-chrome-256x256.png{% endblock %}

{% block header %}
<link rel="stylesheet" href="/static/css/pages/topplays.css">
{% endblock %}

{% block content %}

<div class="card mb-5">
  <div class="mode-selector">
    <a class="mode-btn {% if mode == 0 %}active{% endif %}" href="/topplays">
      <i class="mode-icon mode-osu"></i><span> vn!std</span></a>
    <a class="mode-btn {% if mode == 4 %}active{% endif %}" href="/topplays?mods=rx">
      <i class="mode-icon mode-osu"></i><span> rx!std</span></a>
    <a class="mode-btn {% if mode == 8 %}active{% endif %}" href="/topplays?mods=ap">
      <i class="mode-icon mode-osu"></i><span> ap!std</span></a>
    <a class="mode-btn {% if mode == 1 %}active{% endif %}" href="/topplays?mode=taiko">
      <i class="mode-icon mode-taiko"></i><span> vn!taiko</span></a>
    <a class="mode-btn {% if mode == 5 %}active{% endif %}" href="/topplays?mods=rx&mode=taiko">
      <i class="mode-icon mode-taiko"></i><span> rx!taiko</span></a>
    <a class="mode-btn {% if mode == 2 %}active{% endif %}" href="/topplays?mode=catch">
      <i class="mode-icon mode-catch"></i><span> vn!catch</span></a>
    <a class="mode-btn {% if mode == 6 %}active{% endif %}" href="/topplays?mods=rx&mode=catch">
      <i class="mode-icon mode-catch"></i><span> rx!catch</span></a>
    <a class="mode-btn {% if mode == 3 %}active{% endif %}" href="/topplays?mode=mania">
      <i class="mode-icon mode-mania"></i><span> vn!mania</span></a>
  </div>
  
  <div class="text-center py-4">
    <h1 class="text-3xl font-bold">Top {{ mode_str }} PP Plays</h1>
  </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {% for score in scores %}
  <a href="/scores/{{ score['scoreid'] }}" class="score-card">
    <div class="score-card-bg" style="background-image: url('https://assets.ppy.sh/beatmaps/{{ score['set_id'] }}/covers/cover.jpg');"></div>
    <div class="score-card-content">
      <div class="score-card-image" style="background-image: url('https://a.{{ domain() }}/{{ score['userid'] }}');"></div>
      <div class="score-card-info">
        <div class="flex items-center gap-2 mb-2">
          <img src="/static/images/flags/{{ score['country']|upper }}.png" class="leaderboard-flag">
          <span class="font-semibold">{{ score['name'] }}</span>
        </div>
        <div class="score-card-title">
          {{ score['title'] }}
        </div>
        <div class="score-card-artist">
          [{{ score['version'] }}]
        </div>
        <div class="score-card-details mt-3">
          <div class="score-card-rank rank-{{ score['grade']['letter'] }}" style="color: {{ score['grade']['color'] }};">
            {{ score['grade']['letter'] }}
          </div>
          <div>
            <div class="score-card-pp">{{ score['pp'] }}pp</div>
            {% if score['mods'] != 0 %}
            <div class="text-sm text-gray">{{ score['mods'] }}</div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </a>
  {% endfor %}
</div>

{% endblock %}
